<!doctype html>
<html>
<head>
    <title>JS Object Oriented Programming</title>
    <meta name="description" content="Building from previous prototypes, we will be taking a closer look at objects and how we can create multiple instances of one object using a constructor function. We will also look at adding a method using prototype. This prototype will be using the Apple iTunes API to retrieve the current top 10 movies on iTunes.">
    <meta name="keywords" content="JavaScript, OOP, Object Oriented programming, prototype, Apple iTunes API">
    <meta name="author" content="Elizabeth Alfano">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>
        //Feature Set 1 - Coin Stack
        //creating a constructor that takes in a parameter for the initial
        //Feature Set 2 - Add Remove Coins
        var coin_stack = function(initial_amount) {
            this.value = initial_amount;
            this.add_coins = function (add_amount) {
                this.value += add_amount;
            };
            this.remove_coins = function (remove_amount) {
                if (this.value >= remove_amount) {
                    this.value -= remove_amount;
                    return this.value;
                } else {
                    this.value = 0;
                    return this.value;
                }
            };
        };
        //end of constructor function
        //Feature Set 3 - Prototype in the prototype
        coin_stack.prototype.transfer_coins = function(from_obj,transferred_amount){
            //The method should take the given amount of coins and remove them from the passed in object then add them to the current object
            from_obj.remove_coins(transferred_amount);
            this.add_coins(transferred_amount);
            return transferred_amount;
        };
        //test the methods
        console.log('newing up the coin_stack with 50 coins, so i have ...');
        var my_coin_stack = new coin_stack(50);
        console.log('my_coin_stack contains ' + my_coin_stack.value, ' coins');
        my_coin_stack.add_coins(15);
        console.log('now i added 15 coins, so i should have 65 in my next console log...');
        console.log('I have '+ my_coin_stack.value + ' coins in my coin stack');
        my_coin_stack.remove_coins(37);
        console.log('now i removed 37 coins, so should have 28 if my math\'s right...');
        console.log('I have '+ my_coin_stack.value + ' coins in my coin stack');
        my_coin_stack.remove_coins(55);
        console.log('now i removed 55 coins, which is more than I have so that should wipe me out ...');
        console.log('I have '+ my_coin_stack.value + ' coins in my coin stack');
        //test for feature set 3
        var erics_coins = new coin_stack(50);
        var dans_coins = new coin_stack(50);
        console.log('Eric\'s initial coin stack has' + erics_coins.value+' coins');
        console.log('Dan\'s initial coin stack has' + dans_coins.value+' coins');
        //transfer 30 coins from dan to eric
        erics_coins.transfer_coins(dans_coins,30);
        console.log('Dan should now have 20 and he has ' + dans_coins.value +' coins');
        console.log('Eric should now have 80 and he has ' + erics_coins.value +' coins');
        if (dans_coins.value != 20 || erics_coins.value != 80) {
            console.log('Go back to your code');
        } else {
            console.log('Go relax and have glass of wine \'cause you just rocked it!');
        }
    </script>
</head>
<body>
<h1>Javascript OOP Prototype</h1>
</body>
</html>